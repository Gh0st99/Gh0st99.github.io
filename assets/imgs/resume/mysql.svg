<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="635px" preserveAspectRatio="none" style="width:1379px;height:635px;background:#FFFFFF;" version="1.1" viewBox="0 0 1379 635" width="1379px" zoomAndPan="magnify"><defs><filter height="300%" id="fpmh1ks80pm55" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FEFECE" filter="url(#fpmh1ks80pm55)" height="36.2969" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="66" x="525" y="298.6719"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46" x="535" y="321.667">MySQL</text><rect fill="#FEFECE" filter="url(#fpmh1ks80pm55)" height="36.2969" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="193" x="641" y="46.7422"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="25" x="651" y="69.7373">Log</text><a href="https://zhuanlan.zhihu.com/p/58011817" target="_top" title="https://zhuanlan.zhihu.com/p/58011817" xlink:actuate="onRequest" xlink:href="https://zhuanlan.zhihu.com/p/58011817" xlink:show="new" xlink:title="https://zhuanlan.zhihu.com/p/58011817" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="144" x="680" y="69.7373">MySQL日志分类及简介</text></a><text fill="#006400" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="887" y="23.9951">错误日志</text><path d="M834,64.8906 L844,64.8906 C859,64.8906 859,19.1484 874,19.1484 L884,19.1484 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#006400" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="887" y="42.292">查询日志</text><path d="M834,64.8906 L844,64.8906 C859,64.8906 859,37.4453 874,37.4453 L884,37.4453 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#006400" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="887" y="60.5889">慢查询日志 *</text><path d="M834,64.8906 L844,64.8906 C859,64.8906 859,55.7422 874,55.7422 L884,55.7422 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#006400" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="887" y="78.8857">事务日志(Redo log) *</text><path d="M834,64.8906 L844,64.8906 C859,64.8906 859,74.0391 874,74.0391 L884,74.0391 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#006400" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="887" y="97.1826">二进制日志</text><path d="M834,64.8906 L844,64.8906 C859,64.8906 859,92.3359 874,92.3359 L884,92.3359 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#006400" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="887" y="115.4795">中继日志</text><path d="M834,64.8906 L844,64.8906 C859,64.8906 859,110.6328 874,110.6328 L884,110.6328 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><path d="M591,316.8203 L601,316.8203 C616,316.8203 616,64.8906 631,64.8906 L641,64.8906 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#fpmh1ks80pm55)" height="36.2969" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="71" x="641" y="147.375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="651" y="170.3701">InnoDB</text><rect fill="#FEFECE" filter="url(#fpmh1ks80pm55)" height="36.2969" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="159" x="762" y="147.375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28" x="772" y="170.3701">结构</text><a href="https://zhuanlan.zhihu.com/p/235458760" target="_top" title="https://zhuanlan.zhihu.com/p/235458760" xlink:actuate="onRequest" xlink:href="https://zhuanlan.zhihu.com/p/235458760" xlink:show="new" xlink:title="https://zhuanlan.zhihu.com/p/235458760" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="107" x="804" y="170.3701">深入剖析InnoDB</text></a><text fill="#006400" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152" x="974" y="133.7764">缓冲池（Buffer Pool）*</text><path d="M921,165.5234 L931,165.5234 C946,165.5234 946,128.9297 961,128.9297 L971,128.9297 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#006400" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176" x="974" y="152.0732">写缓冲区(Change Buffer) *</text><path d="M921,165.5234 L931,165.5234 C946,165.5234 946,147.2266 961,147.2266 L971,147.2266 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#006400" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="171" x="974" y="170.3701">日志缓冲区（log Buffer）*</text><path d="M921,165.5234 L931,165.5234 C946,165.5234 946,165.5234 961,165.5234 L971,165.5234 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#006400" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="974" y="188.667">自适应 Hash 索引</text><path d="M921,165.5234 L931,165.5234 C946,165.5234 946,183.8203 961,183.8203 L971,183.8203 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#006400" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134" x="974" y="206.9639">Double Write Buffer</text><path d="M921,165.5234 L931,165.5234 C946,165.5234 946,202.1172 961,202.1172 L971,202.1172 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><path d="M712,165.5234 L722,165.5234 C737,165.5234 737,165.5234 752,165.5234 L762,165.5234 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><path d="M591,316.8203 L601,316.8203 C616,316.8203 616,165.5234 631,165.5234 L641,165.5234 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#fpmh1ks80pm55)" height="36.2969" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="53" x="641" y="314.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33" x="651" y="337.8545">ACID</text><rect fill="#FEFECE" filter="url(#fpmh1ks80pm55)" height="36.2969" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="178" x="744" y="221.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="158" x="754" y="244.2607">Atomicity 中止（abort）</text><text fill="#006400" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="392" x="975" y="235.1123">能够在错误时中止事务，丢弃该事务进行的所有写入变更的能力</text><path d="M922,239.4141 L932,239.4141 C947,239.4141 947,230.2656 962,230.2656 L972,230.2656 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#006400" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28" x="975" y="253.4092">事物</text><path d="M922,239.4141 L932,239.4141 C947,239.4141 947,248.5625 962,248.5625 L972,248.5625 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><path d="M694,333.0078 L704,333.0078 C719,333.0078 719,239.4141 734,239.4141 L744,239.4141 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#fpmh1ks80pm55)" height="36.2969" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="244" x="744" y="277.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="224" x="754" y="300.5576">Consistency 不变量（invariants）</text><text fill="#006400" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125" x="1041" y="300.5576">doublewrite buffer</text><path d="M988,295.7109 L998,295.7109 C1013,295.7109 1013,295.7109 1028,295.7109 L1038,295.7109 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><path d="M694,333.0078 L704,333.0078 C719,333.0078 719,295.7109 734,295.7109 L744,295.7109 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#fpmh1ks80pm55)" height="36.2969" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="77" x="744" y="343.0078"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="754" y="366.0029">Isolation</text><text fill="#006400" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="14" x="874" y="337.8545">锁</text><path d="M821,361.1563 L831,361.1563 C846,361.1563 846,333.0078 861,333.0078 L871,333.0078 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#fpmh1ks80pm55)" height="36.2969" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="104" x="871" y="352.1563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="881" y="375.1514">事物隔离级别</text><text fill="#006400" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="200" x="1028" y="375.1514">读已提交（Read Committed）</text><path d="M975,370.3047 L985,370.3047 C1000,370.3047 1000,370.3047 1015,370.3047 L1025,370.3047 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><path d="M821,361.1563 L831,361.1563 C846,361.1563 846,370.3047 861,370.3047 L871,370.3047 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><path d="M694,333.0078 L704,333.0078 C719,333.0078 719,361.1563 734,361.1563 L744,361.1563 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#fpmh1ks80pm55)" height="36.2969" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="83" x="744" y="408.4531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="754" y="431.4482">Durability</text><text fill="#006400" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125" x="880" y="422.2998">doublewrite buffer</text><path d="M827,426.6016 L837,426.6016 C852,426.6016 852,417.4531 867,417.4531 L877,417.4531 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#006400" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28" x="880" y="440.5967">运维</text><path d="M827,426.6016 L837,426.6016 C852,426.6016 852,435.75 867,435.75 L877,435.75 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><path d="M694,333.0078 L704,333.0078 C719,333.0078 719,426.6016 734,426.6016 L744,426.6016 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><path d="M591,316.8203 L601,316.8203 C616,316.8203 616,333.0078 631,333.0078 L641,333.0078 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#fpmh1ks80pm55)" height="36.2969" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="76" x="641" y="464.75"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="651" y="487.7451">隔离级别</text><path d="M591,316.8203 L601,316.8203 C616,316.8203 616,482.8984 631,482.8984 L641,482.8984 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#fpmh1ks80pm55)" height="36.2969" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="61" x="641" y="521.0469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41" x="651" y="544.042">MVCC</text><path d="M591,316.8203 L601,316.8203 C616,316.8203 616,539.1953 631,539.1953 L641,539.1953 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#fpmh1ks80pm55)" height="36.2969" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="48" x="641" y="577.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28" x="651" y="600.3389">幻读</text><path d="M591,316.8203 L601,316.8203 C616,316.8203 616,595.4922 631,595.4922 L641,595.4922 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#fpmh1ks80pm55)" height="36.2969" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="34" x="441" y="134.1484"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="14" x="451" y="157.1436">锁</text><text fill="#006400" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="190" x="198" y="102.2529">Shared and Exclusive Locks</text><path d="M441,152.2969 L431,152.2969 C416,152.2969 416,97.4063 401,97.4063 L391,97.4063 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#006400" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105" x="283" y="120.5498">Intention Locks</text><path d="M441,152.2969 L431,152.2969 C416,152.2969 416,115.7031 401,115.7031 L391,115.7031 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#006400" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="294" y="138.8467">Record Locks</text><path d="M441,152.2969 L431,152.2969 C416,152.2969 416,134 401,134 L391,134 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#006400" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="305" y="157.1436">Gap Locks *</text><path d="M441,152.2969 L431,152.2969 C416,152.2969 416,152.2969 401,152.2969 L391,152.2969 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#006400" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="272" y="175.4404">Next-Key Locks *</text><path d="M441,152.2969 L431,152.2969 C416,152.2969 416,170.5938 401,170.5938 L391,170.5938 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#006400" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148" x="240" y="193.7373">Insert Intention Locks</text><path d="M441,152.2969 L431,152.2969 C416,152.2969 416,188.8906 401,188.8906 L391,188.8906 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#006400" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="277" y="212.0342">AUTO-INC Locks</text><path d="M441,152.2969 L431,152.2969 C416,152.2969 416,207.1875 401,207.1875 L391,207.1875 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><path d="M525,316.8203 L515,316.8203 C500,316.8203 500,152.2969 485,152.2969 L475,152.2969 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#fpmh1ks80pm55)" height="36.2969" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="68" x="407" y="362.7109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="417" y="385.7061">explain</text><rect fill="#FEFECE" filter="url(#fpmh1ks80pm55)" height="36.2969" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="99" x="258" y="226.3359"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="268" y="249.3311">select_type</text><text fill="#006400" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="30" y="240.1826">simple: 无 union 或 子查询</text><path d="M258,244.4844 L248,244.4844 C233,244.4844 233,235.3359 218,235.3359 L208,235.3359 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#006400" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87" x="118" y="258.4795">primary: 最外</text><path d="M258,244.4844 L248,244.4844 C233,244.4844 233,253.6328 218,253.6328 L208,253.6328 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><path d="M407,380.8594 L397,380.8594 C382,380.8594 382,244.4844 367,244.4844 L357,244.4844 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#fpmh1ks80pm55)" height="36.2969" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="50" x="307" y="390.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="317" y="413.8545">type</text><text fill="#006400" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="125" y="286.6279">system: 表只有一行</text><path d="M307,409.0078 L297,409.0078 C282,409.0078 282,281.7813 267,281.7813 L257,281.7813 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#006400" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="244" x="10" y="304.9248">const: 最多一行匹配；主键或者唯一键</text><path d="M307,409.0078 L297,409.0078 C282,409.0078 282,300.0781 267,300.0781 L257,300.0781 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#006400" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="0" x="62" y="323.2217"/><text fill="#006400" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126" x="58" y="339.5186">eq_ref:  对于前面的</text><text fill="#006400" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="196" x="58" y="355.8154">表中各种组合，此表只取出一行</text><text fill="#006400" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="0" x="62" y="372.1123"/><path d="M307,409.0078 L297,409.0078 C282,409.0078 282,342.8203 267,342.8203 L257,342.8203 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#006400" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="0" x="68" y="390.4092"/><text fill="#006400" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="190" x="64" y="406.7061">ref 对于前面的表的各种组合，</text><text fill="#006400" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="64" y="423.0029">此表匹配的索引值</text><text fill="#006400" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="0" x="68" y="439.2998"/><path d="M307,409.0078 L297,409.0078 C282,409.0078 282,410.0078 267,410.0078 L257,410.0078 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#006400" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="231" x="23" y="457.5967">ref_or_null: 像 ref 但再搜索 NULL 值</text><path d="M307,409.0078 L297,409.0078 C282,409.0078 282,452.75 267,452.75 L257,452.75 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#006400" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="0" x="28" y="475.8936"/><text fill="#006400" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="224" x="24" y="492.1904">index_merge: key 中反映的是索引</text><text fill="#006400" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="24" y="508.4873">使用的 key 的列表。</text><text fill="#006400" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="230" x="24" y="524.7842">一张表的多个 range 扫描合并成一个</text><text fill="#006400" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="0" x="28" y="541.0811"/><path d="M307,409.0078 L297,409.0078 C282,409.0078 282,503.6406 267,503.6406 L257,503.6406 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><path d="M407,380.8594 L397,380.8594 C382,380.8594 382,409.0078 367,409.0078 L357,409.0078 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><path d="M525,316.8203 L515,316.8203 C500,316.8203 500,380.8594 485,380.8594 L475,380.8594 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[7c3fb63ede23bd4ee264263e5958e045]
@startmindmap
<style>
boxless {
FontColor darkgreen
}
</style>

* MySQL

** Log [[https://zhuanlan.zhihu.com/p/58011817 MySQL日志分类及简介]]
***_ 错误日志
***_ 查询日志
***_ 慢查询日志 *
***_ 事务日志(Redo log) *
***_ 二进制日志
***_ 中继日志

** InnoDB
*** 结构 [[https://zhuanlan.zhihu.com/p/235458760 深入剖析InnoDB]]
****_ 缓冲池（Buffer Pool）*
****_ 写缓冲区(Change Buffer) *
****_ 日志缓冲区（log Buffer）*
****_ 自适应 Hash 索引
****_ Double Write Buffer

** ACID
*** Atomicity 中止（abort）
****_ 能够在错误时中止事务，丢弃该事务进行的所有写入变更的能力
****_ 事物

*** Consistency 不变量（invariants）
****_ doublewrite buffer

*** Isolation
****_ 锁
**** 事物隔离级别
*****_ 读已提交（Read Committed）

*** Durability
****_ doublewrite buffer
****_ 运维

** 隔离级别
** MVCC
** 幻读

left side

** 锁
***_ Shared and Exclusive Locks
***_ Intention Locks
***_ Record Locks
***_ Gap Locks *
***_ Next-Key Locks *
***_ Insert Intention Locks
***_ AUTO-INC Locks

** explain
*** select_type
****_ simple: 无 union 或 子查询
****_ primary: 最外

*** type
****_ system: 表只有一行
****_ const: 最多一行匹配；主键或者唯一键
****_: 
eq_ref:  对于前面的
表中各种组合，此表只取出一行
;
****_:
ref 对于前面的表的各种组合，
此表匹配的索引值
;
****_ ref_or_null: 像 ref 但再搜索 NULL 值
****_: 
index_merge: key 中反映的是索引
使用的 key 的列表。
一张表的多个 range 扫描合并成一个
;
@endmindmap

PlantUML version 1.2021.6(Fri May 14 07:09:51 UTC 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>