<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1430px" preserveAspectRatio="none" style="width:1048px;height:1430px;background:#FFFFFF;" version="1.1" viewBox="0 0 1048 1430" width="1048px" zoomAndPan="magnify"><defs><filter height="300%" id="f1161c1amrnc6a" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FEFECE" filter="url(#f1161c1amrnc6a)" height="36.2969" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="44" x="10" y="695.9219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="24" x="20" y="718.917">JVM</text><rect fill="#FEFECE" filter="url(#f1161c1amrnc6a)" height="36.2969" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="48" x="104" y="74.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28" x="114" y="97.8857">参数</text><rect fill="#FEFECE" filter="url(#f1161c1amrnc6a)" height="36.2969" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="48" x="202" y="46.7422"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28" x="212" y="69.7373">空间</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="33" x="303" y="23.9951">Xms</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="336" y="23.9951">: 堆初始大小</text><path d="M250,64.8906 L260,64.8906 C275,64.8906 275,19.1484 290,19.1484 L300,19.1484 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="33" x="303" y="42.292">Xms</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="336" y="42.292">: 堆最大大小</text><path d="M250,64.8906 L260,64.8906 C275,64.8906 275,37.4453 290,37.4453 L300,37.4453 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="33" x="303" y="60.5889">Xms</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="336" y="60.5889">: 堆年轻代大小</text><path d="M250,64.8906 L260,64.8906 C275,64.8906 275,55.7422 290,55.7422 L300,55.7422 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="122" x="303" y="78.8857">XX:SurviorRatio</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="251" x="425" y="78.8857">: Eden / S0 = Eden / S1 = 8(Default)</text><path d="M250,64.8906 L260,64.8906 C275,64.8906 275,74.0391 290,74.0391 L300,74.0391 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="100" x="303" y="97.1826">XX:NewRatio</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="194" x="403" y="97.1826">: 老年代 / 新生代 = 2(Default)</text><path d="M250,64.8906 L260,64.8906 C275,64.8906 275,92.3359 290,92.3359 L300,92.3359 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="28" x="303" y="115.4795">Xss</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="331" y="115.4795">: 线程栈大小</text><path d="M250,64.8906 L260,64.8906 C275,64.8906 275,110.6328 290,110.6328 L300,110.6328 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><path d="M152,93.0391 L162,93.0391 C177,93.0391 177,64.8906 192,64.8906 L202,64.8906 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#f1161c1amrnc6a)" height="36.2969" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="73" x="202" y="129.7813"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53" x="212" y="152.7764">GC 日志</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="151" x="328" y="134.4795">XX:+PrintGCDetails</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="479" y="134.4795">(9+，</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="59" x="519" y="134.4795">Xlog:gc</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="12" x="578" y="134.4795">*)</text><path d="M275,147.9297 L285,147.9297 C300,147.9297 300,129.6328 315,129.6328 L325,129.6328 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="192" x="328" y="152.7764">XX:+PrintGCDateStamps</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="0" x="524" y="152.7764"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="194" x="524" y="152.7764">XX:+PrintGCTimeStamps</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="718" y="152.7764">(9+，</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="112" x="758" y="152.7764">Xlog:gc*::time</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="5" x="870" y="152.7764">)</text><path d="M275,147.9297 L285,147.9297 C300,147.9297 300,147.9297 315,147.9297 L325,147.9297 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="152" x="328" y="171.0732">Xloggc:/path/gc.log</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="480" y="171.0732">(9+,</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="158" x="510" y="171.0732">Xlog:gc:/path/gc.log</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="5" x="668" y="171.0732">)</text><path d="M275,147.9297 L285,147.9297 C300,147.9297 300,166.2266 315,166.2266 L325,166.2266 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><path d="M152,93.0391 L162,93.0391 C177,93.0391 177,147.9297 192,147.9297 L202,147.9297 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><path d="M54,714.0703 L64,714.0703 C79,714.0703 79,93.0391 94,93.0391 L104,93.0391 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#f1161c1amrnc6a)" height="36.2969" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="76" x="104" y="328.9336"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="114" y="351.9287">类加载器</text><rect fill="#FEFECE" filter="url(#f1161c1amrnc6a)" height="36.2969" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="48" x="230" y="194.5234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28" x="240" y="217.5186">分类</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="77" x="331" y="190.0732">Bootstrap</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132" x="408" y="190.0732">: &lt;JAVA_HOME&gt;/lib</text><path d="M278,212.6719 L288,212.6719 C303,212.6719 303,185.2266 318,185.2266 L328,185.2266 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="77" x="331" y="208.3701">Extension</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="158" x="408" y="208.3701">: &lt;JAVA_HOME&gt;/lib/ext</text><path d="M278,212.6719 L288,212.6719 C303,212.6719 303,203.5234 318,203.5234 L328,203.5234 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="87" x="331" y="226.667">Application</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="253" x="418" y="226.667">: getSystemClassLoader() + 用户路径</text><path d="M278,212.6719 L288,212.6719 C303,212.6719 303,221.8203 318,221.8203 L328,221.8203 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="331" y="244.9639">自定义加载器</text><path d="M278,212.6719 L288,212.6719 C303,212.6719 303,240.1172 318,240.1172 L328,240.1172 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><path d="M180,347.082 L190,347.082 C205,347.082 205,212.6719 220,212.6719 L230,212.6719 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#f1161c1amrnc6a)" height="36.2969" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="76" x="230" y="291.6367"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="240" y="314.6318">双亲委派</text><rect fill="#FEFECE" filter="url(#f1161c1amrnc6a)" height="36.2969" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="48" x="356" y="259.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28" x="366" y="282.2607">机制</text><path d="M306,309.7852 L316,309.7852 C331,309.7852 331,277.4141 346,277.4141 L356,277.4141 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#f1161c1amrnc6a)" height="36.2969" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="76" x="356" y="315.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="366" y="338.5576">三次破坏</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="84" x="485" y="311.1123">findClass()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28" x="573" y="311.1123">重写</text><path d="M432,333.7109 L442,333.7109 C457,333.7109 457,306.2656 472,306.2656 L482,306.2656 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="184" x="485" y="329.4092">setContextClassLoader</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="5" x="669" y="329.4092">:</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="30" x="678" y="329.4092">JNDI</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="12" x="712" y="329.4092">&amp;</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="36" x="728" y="329.4092">JDBC</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="268" x="764" y="329.4092">，核心包 Bootstrap，实现位于用户定义。</text><path d="M432,333.7109 L442,333.7109 C457,333.7109 457,324.5625 472,324.5625 L482,324.5625 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="34" x="485" y="347.7061">OSGI</text><path d="M432,333.7109 L442,333.7109 C457,333.7109 457,342.8594 472,342.8594 L482,342.8594 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="485" y="366.0029">Java 9 Module</text><path d="M432,333.7109 L442,333.7109 C457,333.7109 457,361.1563 472,361.1563 L482,361.1563 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><path d="M306,309.7852 L316,309.7852 C331,309.7852 331,333.7109 346,333.7109 L356,333.7109 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><path d="M180,347.082 L190,347.082 C205,347.082 205,309.7852 220,309.7852 L230,309.7852 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#f1161c1amrnc6a)" height="36.2969" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="90" x="230" y="426.0469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="240" y="449.042">类加载过程</text><rect fill="#FEFECE" filter="url(#f1161c1amrnc6a)" height="36.2969" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="76" x="370" y="398.6016"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="380" y="421.5967">详细过程</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="242" x="499" y="384.2998">加载： 字节流加载到 JVM，生成类对象</text><path d="M446,416.75 L456,416.75 C471,416.75 471,379.4531 486,379.4531 L496,379.4531 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#f1161c1amrnc6a)" height="36.2969" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="48" x="496" y="398.6016"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28" x="506" y="421.5967">链接</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="298" x="597" y="403.2998">验证： 文件格式、元数据、字节码、符号引用，</text><path d="M544,416.75 L554,416.75 C569,416.75 569,398.4531 584,398.4531 L594,398.4531 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="312" x="597" y="421.5967">准备： 类静态变量分配内存并设置类变量初始值。</text><path d="M544,416.75 L554,416.75 C569,416.75 569,416.75 584,416.75 L594,416.75 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="183" x="597" y="439.8936">解析： 符号引用 -&gt; 直接引用</text><path d="M544,416.75 L554,416.75 C569,416.75 569,435.0469 584,435.0469 L594,435.0469 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><path d="M446,416.75 L456,416.75 C471,416.75 471,416.75 486,416.75 L496,416.75 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157" x="499" y="458.8936">初始化： 执行 &lt;clinit&gt;()</text><path d="M446,416.75 L456,416.75 C471,416.75 471,454.0469 486,454.0469 L496,454.0469 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><path d="M320,444.1953 L330,444.1953 C345,444.1953 345,416.75 360,416.75 L370,416.75 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><a href="https://www.zhihu.com/question/30300585/answer/51335493" target="_top" title="https://www.zhihu.com/question/30300585/answer/51335493" xlink:actuate="onRequest" xlink:href="https://www.zhihu.com/question/30300585/answer/51335493" xlink:show="new" xlink:title="https://www.zhihu.com/question/30300585/answer/51335493" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="99" x="373" y="477.1904">符号引用---R 大</text></a><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="221" x="472" y="477.1904">符号引用: 带有 类型（Ta）/ 结构的</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="42" x="693" y="477.1904">字符串</text><path d="M320,444.1953 L330,444.1953 C345,444.1953 345,472.3438 360,472.3438 L370,472.3438 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="205" x="373" y="495.4873">直接引用: 通过方法名找到对应的</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="56" x="578" y="495.4873">方法指针</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28" x="634" y="495.4873">或者</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="84" x="662" y="495.4873">虚函数表下标</text><path d="M320,444.1953 L330,444.1953 C345,444.1953 345,490.6406 360,490.6406 L370,490.6406 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="373" y="513.7842">初始化过程</text><path d="M320,444.1953 L330,444.1953 C345,444.1953 345,508.9375 360,508.9375 L370,508.9375 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><path d="M180,347.082 L190,347.082 C205,347.082 205,444.1953 220,444.1953 L230,444.1953 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><path d="M54,714.0703 L64,714.0703 C79,714.0703 79,347.082 94,347.082 L104,347.082 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#f1161c1amrnc6a)" height="36.2969" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="41" x="104" y="713.8672"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="21" x="114" y="736.8623">GC</text><rect fill="#FEFECE" filter="url(#f1161c1amrnc6a)" height="36.2969" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="51" x="195" y="528.0859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="205" y="551.0811">CMS</text><path d="M145,732.0156 L155,732.0156 C170,732.0156 170,546.2344 185,546.2344 L195,546.2344 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#f1161c1amrnc6a)" height="36.2969" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="40" x="195" y="584.3828"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="20" x="205" y="607.3779">G1</text><path d="M145,732.0156 L155,732.0156 C170,732.0156 170,602.5313 185,602.5313 L195,602.5313 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#f1161c1amrnc6a)" height="36.2969" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="212" x="195" y="640.6797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="164" x="205" y="663.6748">gc roots: 一组必须活跃的</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="28" x="369" y="663.6748">引用</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="112" x="460" y="627.0811">所有线程活跃栈帧</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140" x="572" y="627.0811">指向堆里的对象的引用</text><path d="M407,658.8281 L417,658.8281 C432,658.8281 432,622.2344 447,622.2344 L457,622.2344 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="127" x="460" y="645.3779">VM 的一些静态数据</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="203" x="587" y="645.3779">结构里指向GC堆里的对象的引用</text><path d="M407,658.8281 L417,658.8281 C432,658.8281 432,640.5313 447,640.5313 L457,640.5313 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="460" y="663.6748">所有当前</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="101" x="516" y="663.6748">被加载的Java类</text><path d="M407,658.8281 L417,658.8281 C432,658.8281 432,658.8281 447,658.8281 L457,658.8281 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="460" y="681.9717">Java类的引用类型</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="56" x="570" y="681.9717">静态变量</text><path d="M407,658.8281 L417,658.8281 C432,658.8281 432,677.125 447,677.125 L457,677.125 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54" x="460" y="700.2686">Java类的</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="84" x="514" y="700.2686">运行时常量池</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28" x="598" y="700.2686">里的</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="84" x="626" y="700.2686">引用类型常量</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147" x="710" y="700.2686">（String或Class类型）</text><path d="M407,658.8281 L417,658.8281 C432,658.8281 432,695.4219 447,695.4219 L457,695.4219 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><path d="M145,732.0156 L155,732.0156 C170,732.0156 170,658.8281 185,658.8281 L195,658.8281 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#f1161c1amrnc6a)" height="36.2969" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="176" x="195" y="770.1641"/><a href="https://www.zhihu.com/question/41922036/answer/93079526" target="_top" title="https://www.zhihu.com/question/41922036/answer/93079526" xlink:actuate="onRequest" xlink:href="https://www.zhihu.com/question/41922036/answer/93079526" xlink:show="new" xlink:title="https://www.zhihu.com/question/41922036/answer/93079526" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="124" x="205" y="793.1592">HotSpot GC---R 大</text></a><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28" x="333" y="793.1592">种类</text><rect fill="#FEFECE" filter="url(#f1161c1amrnc6a)" height="36.2969" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="86" x="421" y="732.8672"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="431" y="755.8623">Partial GC</text><rect fill="#FEFECE" filter="url(#f1161c1amrnc6a)" height="36.2969" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="90" x="557" y="714.5703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="567" y="737.5654">Young GC</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="700" y="728.417">只 young</text><path d="M647,732.7188 L657,732.7188 C672,732.7188 672,723.5703 687,723.5703 L697,723.5703 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="40" x="700" y="746.7139">eden</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="744" y="746.7139">区分配满的时候</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="28" x="842" y="746.7139">触发</text><path d="M647,732.7188 L657,732.7188 C672,732.7188 672,741.8672 687,741.8672 L697,741.8672 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><path d="M507,751.0156 L517,751.0156 C532,751.0156 532,732.7188 547,732.7188 L557,732.7188 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="138" x="560" y="774.8623">Old GC: 只 old，only</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="31" x="702" y="774.8623">CMS</text><path d="M507,751.0156 L517,751.0156 C532,751.0156 532,770.0156 547,770.0156 L557,770.0156 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="204" x="560" y="793.1592">Mixed GC: young + 部分 old，</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="20" x="764" y="793.1592">G1</text><path d="M507,751.0156 L517,751.0156 C532,751.0156 532,788.3125 547,788.3125 L557,788.3125 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><path d="M371,788.3125 L381,788.3125 C396,788.3125 396,751.0156 411,751.0156 L421,751.0156 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#f1161c1amrnc6a)" height="36.2969" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="68" x="421" y="816.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="431" y="839.6045">Full GC</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="337" x="542" y="811.4561">收集整个堆，包括 young gen、old gen、perm gen</text><path d="M489,834.7578 L499,834.7578 C514,834.7578 514,806.6094 529,806.6094 L539,806.6094 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#f1161c1amrnc6a)" height="36.2969" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="48" x="539" y="825.7578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28" x="549" y="848.7529">触发</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="344" x="640" y="830.4561">准备触发 young，之前统计的平均晋升大小 &gt; 剩余 old</text><path d="M587,843.9063 L597,843.9063 C612,843.9063 612,825.6094 627,825.6094 L637,825.6094 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155" x="640" y="848.7529">perm gen 分配空间不够</text><path d="M587,843.9063 L597,843.9063 C612,843.9063 612,843.9063 627,843.9063 L637,843.9063 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="640" y="867.0498">system.gc()</text><path d="M587,843.9063 L597,843.9063 C612,843.9063 612,862.2031 627,862.2031 L637,862.2031 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><path d="M489,834.7578 L499,834.7578 C514,834.7578 514,843.9063 529,843.9063 L539,843.9063 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><path d="M371,788.3125 L381,788.3125 C396,788.3125 396,834.7578 411,834.7578 L421,834.7578 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><path d="M145,732.0156 L155,732.0156 C170,732.0156 170,788.3125 185,788.3125 L195,788.3125 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#f1161c1amrnc6a)" height="36.2969" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="146" x="195" y="881.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126" x="205" y="904.3467">什么对象进入老年代</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="394" y="886.0498">大对象直接进</text><path d="M341,899.5 L351,899.5 C366,899.5 366,881.2031 381,881.2031 L391,881.2031 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="216" x="394" y="904.3467">长期存活对象进入 + 动态年龄判断</text><path d="M341,899.5 L351,899.5 C366,899.5 366,899.5 381,899.5 L391,899.5 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="247" x="394" y="922.6436">空间分配担保，Survior 无法容纳的对象</text><path d="M341,899.5 L351,899.5 C366,899.5 366,917.7969 381,917.7969 L391,917.7969 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><path d="M145,732.0156 L155,732.0156 C170,732.0156 170,899.5 185,899.5 L195,899.5 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="425" x="198" y="941.6436">eden和survivor比例可以调整么，参数是什么，调整后会有什么问题</text><path d="M145,732.0156 L155,732.0156 C170,732.0156 170,936.7969 185,936.7969 L195,936.7969 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><path d="M54,714.0703 L64,714.0703 C79,714.0703 79,732.0156 94,732.0156 L104,732.0156 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#f1161c1amrnc6a)" height="36.2969" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="54" x="104" y="955.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="34" x="114" y="978.9404">OOM</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28" x="211" y="969.792">排查</text><path d="M158,974.0938 L168,974.0938 C183,974.0938 183,964.9453 198,964.9453 L208,964.9453 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="211" y="988.0889">产生原因</text><path d="M158,974.0938 L168,974.0938 C183,974.0938 183,983.2422 198,983.2422 L208,983.2422 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><path d="M54,714.0703 L64,714.0703 C79,714.0703 79,974.0938 94,974.0938 L104,974.0938 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#f1161c1amrnc6a)" height="36.2969" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="76" x="104" y="1158.9688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="114" y="1181.9639">内存区域</text><rect fill="#FEFECE" filter="url(#f1161c1amrnc6a)" height="36.2969" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="76" x="230" y="1010.8359"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="240" y="1033.8311">内存结构</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="359" y="1006.3857">程序计数器</text><path d="M306,1028.9844 L316,1028.9844 C331,1028.9844 331,1001.5391 346,1001.5391 L356,1001.5391 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="359" y="1024.6826">虚拟机栈</text><path d="M306,1028.9844 L316,1028.9844 C331,1028.9844 331,1019.8359 346,1019.8359 L356,1019.8359 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="14" x="359" y="1042.9795">堆</text><path d="M306,1028.9844 L316,1028.9844 C331,1028.9844 331,1038.1328 346,1038.1328 L356,1038.1328 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="359" y="1061.2764">方法区</text><path d="M306,1028.9844 L316,1028.9844 C331,1028.9844 331,1056.4297 346,1056.4297 L356,1056.4297 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><path d="M180,1177.1172 L190,1177.1172 C205,1177.1172 205,1028.9844 220,1028.9844 L230,1028.9844 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#f1161c1amrnc6a)" height="36.2969" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="76" x="230" y="1074.875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="240" y="1097.8701">操作数栈</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="359" y="1079.5732">操作数栈过程</text><path d="M306,1093.0234 L316,1093.0234 C331,1093.0234 331,1074.7266 346,1074.7266 L356,1074.7266 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168" x="359" y="1097.8701">方法返回地址什么时候回收</text><path d="M306,1093.0234 L316,1093.0234 C331,1093.0234 331,1093.0234 346,1093.0234 L356,1093.0234 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154" x="359" y="1116.167">程序计数器什么时候为空</text><path d="M306,1093.0234 L316,1093.0234 C331,1093.0234 331,1111.3203 346,1111.3203 L356,1111.3203 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><path d="M180,1177.1172 L190,1177.1172 C205,1177.1172 205,1093.0234 220,1093.0234 L230,1093.0234 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#f1161c1amrnc6a)" height="36.2969" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="160" x="230" y="1131.1719"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140" x="240" y="1154.167">对象一定分配在堆上么</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35" x="443" y="1145.0186">TLAB</text><path d="M390,1149.3203 L400,1149.3203 C415,1149.3203 415,1140.1719 430,1140.1719 L440,1140.1719 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="443" y="1163.3154">标量替换</text><path d="M390,1149.3203 L400,1149.3203 C415,1149.3203 415,1158.4688 430,1158.4688 L440,1158.4688 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><path d="M180,1177.1172 L190,1177.1172 C205,1177.1172 205,1149.3203 220,1149.3203 L230,1149.3203 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#f1161c1amrnc6a)" height="36.2969" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="104" x="230" y="1205.7656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="240" y="1228.7607">对象内存布局</text><rect fill="#FEFECE" filter="url(#f1161c1amrnc6a)" height="36.2969" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="62" x="384" y="1187.4688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="394" y="1210.4639">对象头</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140" x="499" y="1192.167">对象自身运行时的数据</text><path d="M446,1205.6172 L456,1205.6172 C471,1205.6172 471,1187.3203 486,1187.3203 L496,1187.3203 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="499" y="1210.4639">类型指针</text><path d="M446,1205.6172 L456,1205.6172 C471,1205.6172 471,1205.6172 486,1205.6172 L496,1205.6172 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="499" y="1228.7607">[数组长度]</text><path d="M446,1205.6172 L456,1205.6172 C471,1205.6172 471,1223.9141 486,1223.9141 L496,1223.9141 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><path d="M334,1223.9141 L344,1223.9141 C359,1223.9141 359,1205.6172 374,1205.6172 L384,1205.6172 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="387" y="1247.7607">实例数据</text><path d="M334,1223.9141 L344,1223.9141 C359,1223.9141 359,1242.9141 374,1242.9141 L384,1242.9141 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="387" y="1266.0576">对齐填充</text><path d="M334,1223.9141 L344,1223.9141 C359,1223.9141 359,1261.2109 374,1261.2109 L384,1261.2109 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><path d="M180,1177.1172 L190,1177.1172 C205,1177.1172 205,1223.9141 220,1223.9141 L230,1223.9141 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#f1161c1amrnc6a)" height="36.2969" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="76" x="230" y="1297.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="240" y="1320.9482">内存结构</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="359" y="1284.3545">堆（Heap）</text><path d="M306,1316.1016 L316,1316.1016 C331,1316.1016 331,1279.5078 346,1279.5078 L356,1279.5078 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="158" x="359" y="1302.6514">方法区（Method Area）</text><path d="M306,1316.1016 L316,1316.1016 C331,1316.1016 331,1297.8047 346,1297.8047 L356,1297.8047 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="278" x="359" y="1320.9482">程序计数器（Program Counter Register）</text><path d="M306,1316.1016 L316,1316.1016 C331,1316.1016 331,1316.1016 346,1316.1016 L356,1316.1016 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="158" x="359" y="1339.2451">虚拟机栈（JVM Stacks）</text><path d="M306,1316.1016 L316,1316.1016 C331,1316.1016 331,1334.3984 346,1334.3984 L356,1334.3984 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="247" x="359" y="1357.542">本地方法栈（Native Method Stacks）</text><path d="M306,1316.1016 L316,1316.1016 C331,1316.1016 331,1352.6953 346,1352.6953 L356,1352.6953 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><path d="M180,1177.1172 L190,1177.1172 C205,1177.1172 205,1316.1016 220,1316.1016 L230,1316.1016 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><path d="M54,714.0703 L64,714.0703 C79,714.0703 79,1177.1172 94,1177.1172 L104,1177.1172 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#f1161c1amrnc6a)" height="36.2969" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="118" x="104" y="1371.8438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="114" y="1394.8389">前端编译与优化</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="15" x="275" y="1385.6904">JIT</text><path d="M222,1389.9922 L232,1389.9922 C247,1389.9922 247,1380.8438 262,1380.8438 L272,1380.8438 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="275" y="1403.9873">逃逸分析</text><path d="M222,1389.9922 L232,1389.9922 C247,1389.9922 247,1399.1406 262,1399.1406 L272,1399.1406 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><path d="M54,714.0703 L64,714.0703 C79,714.0703 79,1389.9922 94,1389.9922 L104,1389.9922 " fill="none" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[ac39b0e609c0a39fc3dd89969960bf1a]
@startmindmap
* JVM

** 参数
*** 空间
****_ **Xms**: 堆初始大小
****_ **Xms**: 堆最大大小
****_ **Xms**: 堆年轻代大小
****_ **XX:SurviorRatio**: Eden / S0 = Eden / S1 = 8(Default)
****_ **XX:NewRatio**: 老年代 / 新生代 = 2(Default)
****_ **Xss**: 线程栈大小

*** GC 日志
****_ **XX:+PrintGCDetails**(9+，**Xlog:gc***)
****_ **XX:+PrintGCDateStamps** **XX:+PrintGCTimeStamps**(9+，**Xlog:gc*::time**)
****_ **Xloggc:/path/gc.log**(9+,**Xlog:gc:/path/gc.log**)


** 类加载器
*** 分类
****_ **Bootstrap**: <JAVA_HOME>/lib
****_  **Extension**: <JAVA_HOME>/lib/ext 
****_ **Application**: getSystemClassLoader() + 用户路径
****_ 自定义加载器
*** 双亲委派
**** 机制
**** 三次破坏
*****_ **findClass()** 重写
*****_ **setContextClassLoader**: **JNDI** & **JDBC**，核心包 Bootstrap，实现位于用户定义。 
*****_ OSGI
*****_ Java 9 Module
*** 类加载过程
**** 详细过程
*****_ 加载： 字节流加载到 JVM，生成类对象
***** 链接
******_ 验证： 文件格式、元数据、字节码、符号引用，
******_ 准备： 类静态变量分配内存并设置类变量初始值。
******_ 解析： 符号引用 -> 直接引用
*****_ 初始化： 执行 <clinit>()
****_ [[https://www.zhihu.com/question/30300585/answer/51335493 符号引用- - -R 大]]符号引用: 带有 类型（Ta）/ 结构的**字符串**
****_ 直接引用: 通过方法名找到对应的**方法指针**或者**虚函数表下标**
****_ 初始化过程


** GC
*** CMS
*** G1
*** gc roots: 一组必须活跃的**引用**
****_ **所有线程活跃栈帧**指向堆里的对象的引用
****_ **VM 的一些静态数据**结构里指向GC堆里的对象的引用
****_ 所有当前**被加载的Java类**
****_ Java类的引用类型**静态变量**
****_ Java类的**运行时常量池**里的**引用类型常量**（String或Class类型）
*** [[https://www.zhihu.com/question/41922036/answer/93079526 HotSpot GC- - -R 大]] 种类
**** Partial GC
***** Young GC
******_ 只 young
******_ **eden** 区分配满的时候**触发**
*****_ Old GC: 只 old，only __CMS__
*****_ Mixed GC: young + 部分 old，__G1__
**** Full GC
*****_ 收集整个堆，包括 young gen、old gen、perm gen
***** 触发
******_ 准备触发 young，之前统计的平均晋升大小 > 剩余 old
******_ perm gen 分配空间不够
******_ system.gc()
*** 什么对象进入老年代
****_ 大对象直接进
****_ 长期存活对象进入 + 动态年龄判断
****_ 空间分配担保，Survior 无法容纳的对象
***_ eden和survivor比例可以调整么，参数是什么，调整后会有什么问题

** OOM
***_ 排查
***_ 产生原因

** 内存区域
*** 内存结构
****_ 程序计数器
****_ 虚拟机栈
****_ 堆
****_ 方法区

*** 操作数栈
****_ 操作数栈过程
****_ 方法返回地址什么时候回收
****_ 程序计数器什么时候为空


*** 对象一定分配在堆上么
****_ TLAB
****_ 标量替换

*** 对象内存布局
**** 对象头
*****_ 对象自身运行时的数据
*****_ 类型指针
*****_ [数组长度]
****_ 实例数据
****_ 对齐填充

*** 内存结构
****_ 堆（Heap）
****_ 方法区（Method Area）
****_ 程序计数器（Program Counter Register）
****_ 虚拟机栈（JVM Stacks）
****_ 本地方法栈（Native Method Stacks）

** 前端编译与优化
***_ JIT
***_ 逃逸分析

@endmindmap

PlantUML version 1.2021.6(Fri May 14 07:09:51 UTC 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>